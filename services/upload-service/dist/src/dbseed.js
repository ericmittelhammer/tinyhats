"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.con = void 0;

var _mysql = require("mysql");

const con = _mysql.createConnection({
  host: process.env.HOST,
  port: '3306',
  user: "admin",
  password: process.env.PASSWORD
});

exports.con = con;
con.connect(function (err) {
  if (err) throw err;
  con.query('CREATE DATABASE IF NOT EXISTS main;');
  con.query('USE main;');
  con.query('CREATE TABLE IF NOT EXISTS images(id int NOT NULL AUTO_INCREMENT, keyId varchar(30), url varchar(255), fileName varchar(255), description varchar(255), approve varchar(30), PRIMARY KEY(id));', function (error, result, fields) {
    console.log(result);
    console.log(fields);
    console.log(error);
  });
  con.end();
});
con.connect(function (err) {
  con.query(`SELECT * FROM main.images WHERE approve='true'`, function (err, result, fields) {
    if (err) console.log(err);

    for (var i = 0; i < result.length; i++) {
      var entry = result[i];
      console.log(`INSERT INTO images VALUES (${entry.id}, '${entry.keyId}', '${entry.url}', '${entry.fileName}', '${entry.description}', 'true');`);
    }

    if (result) console.log("Current state: " + JSON.stringify(result)); // Current state: [{"id":1,"keyId":"lfwy1ted33t35cnx","url":"https://uwuaascat.s3.amazonaws.com/lfwy1ted33t35cnx.jpeg","fileName":"lfwy1ted33t35cnx.jpeg","description":"baby lying down"},{"id":2,"keyId":"dt0q129qcum37sxk","url":"https://uwuaascat.s3.amazonaws.com/dt0q129qcum37sxk.jpeg","fileName":"dt0q129qcum37sxk.jpeg","description":"baby lying down"},{"id":3,"keyId":"nhx7x0rc2o7vo81k","url":"https://uwuaascat.s3.amazonaws.com/nhx7x0rc2o7vo81k.jpeg","fileName":"nhx7x0rc2o7vo81k.jpeg","description":"baby lying down"},{"id":4,"keyId":"xy3lbwaixwfr2e6q","url":"https://uwuaascat.s3.amazonaws.com/xy3lbwaixwfr2e6q.jpeg","fileName":"xy3lbwaixwfr2e6q.jpeg","description":"baby lying down"},{"id":5,"keyId":"aa6wfoezrnhpw0qq","url":"https://uwuaascat.s3.amazonaws.com/aa6wfoezrnhpw0qq.jpeg","fileName":"aa6wfoezrnhpw0qq.jpeg","description":"baby lying down"},{"id":6,"keyId":"anxtx42ucy4p5gyf","url":"https://uwuaascat.s3.amazonaws.com/anxtx42ucy4p5gyf.jpeg","fileName":"anxtx42ucy4p5gyf.jpeg","description":"baby lying down"},{"id":7,"keyId":"2yjf94pgpswxn0kr","url":"https://uwuaascat.s3.amazonaws.com/2yjf94pgpswxn0kr.jpeg","fileName":"2yjf94pgpswxn0kr.jpeg","description":"baby lying down"},{"id":8,"keyId":"3lh9ypagvkm2j4mh","url":"https://uwuaascat.s3.amazonaws.com/3lh9ypagvkm2j4mh.jpeg","fileName":"3lh9ypagvkm2j4mh.jpeg","description":"baby lying down"}]
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYnNlZWQuanMiXSwibmFtZXMiOlsiY29uIiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJIT1NUIiwicG9ydCIsInVzZXIiLCJwYXNzd29yZCIsIlBBU1NXT1JEIiwiY29ubmVjdCIsImVyciIsInF1ZXJ5IiwiZXJyb3IiLCJyZXN1bHQiLCJmaWVsZHMiLCJjb25zb2xlIiwibG9nIiwiZW5kIiwiaSIsImxlbmd0aCIsImVudHJ5IiwiaWQiLCJrZXlJZCIsInVybCIsImZpbGVOYW1lIiwiZGVzY3JpcHRpb24iLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sTUFBTUEsR0FBRyxHQUFHQyxNQUFLLENBQUNDLGdCQUFOLENBQXVCO0FBQ3RDQyxFQUFBQSxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQURvQjtBQUV0Q0MsRUFBQUEsSUFBSSxFQUFFLE1BRmdDO0FBR3RDQyxFQUFBQSxJQUFJLEVBQUUsT0FIZ0M7QUFJdENDLEVBQUFBLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlLO0FBSmdCLENBQXZCLENBQVo7OztBQU9QVixHQUFHLENBQUNXLE9BQUosQ0FBWSxVQUFTQyxHQUFULEVBQWM7QUFDdEIsTUFBSUEsR0FBSixFQUFTLE1BQU1BLEdBQU47QUFFVFosRUFBQUEsR0FBRyxDQUFDYSxLQUFKLENBQVUscUNBQVY7QUFDQWIsRUFBQUEsR0FBRyxDQUFDYSxLQUFKLENBQVUsV0FBVjtBQUNBYixFQUFBQSxHQUFHLENBQUNhLEtBQUosQ0FBVSxnTUFBVixFQUE0TSxVQUFTQyxLQUFULEVBQWdCQyxNQUFoQixFQUF3QkMsTUFBeEIsRUFBZ0M7QUFDeE9DLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxNQUFaO0FBQ0FFLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixNQUFaO0FBQ0FDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixLQUFaO0FBQ0gsR0FKRDtBQUtBZCxFQUFBQSxHQUFHLENBQUNtQixHQUFKO0FBQ0gsQ0FYRDtBQWFBbkIsR0FBRyxDQUFDVyxPQUFKLENBQVksVUFBU0MsR0FBVCxFQUFjO0FBQ3RCWixFQUFBQSxHQUFHLENBQUNhLEtBQUosQ0FBVyxnREFBWCxFQUE0RCxVQUFTRCxHQUFULEVBQWNHLE1BQWQsRUFBc0JDLE1BQXRCLEVBQThCO0FBQ3RGLFFBQUlKLEdBQUosRUFBU0ssT0FBTyxDQUFDQyxHQUFSLENBQVlOLEdBQVo7O0FBQ1QsU0FBSyxJQUFJUSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHTCxNQUFNLENBQUNNLE1BQTNCLEVBQW1DRCxDQUFDLEVBQXBDLEVBQXdDO0FBQ3BDLFVBQUlFLEtBQUssR0FBR1AsTUFBTSxDQUFDSyxDQUFELENBQWxCO0FBQ0FILE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLDhCQUE2QkksS0FBSyxDQUFDQyxFQUFHLE1BQUtELEtBQUssQ0FBQ0UsS0FBTSxPQUFNRixLQUFLLENBQUNHLEdBQUksT0FBTUgsS0FBSyxDQUFDSSxRQUFTLE9BQU1KLEtBQUssQ0FBQ0ssV0FBWSxhQUFqSTtBQUNIOztBQUNELFFBQUlaLE1BQUosRUFBWUUsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQW9CVSxJQUFJLENBQUNDLFNBQUwsQ0FBZWQsTUFBZixDQUFoQyxFQU4wRSxDQVE5RjtBQUNLLEdBVEQ7QUFVSCxDQVhEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJ1xuXG5leHBvcnQgY29uc3QgY29uID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XG4gICAgaG9zdDogcHJvY2Vzcy5lbnYuSE9TVCxcbiAgICBwb3J0OiAnMzMwNicsXG4gICAgdXNlcjogXCJhZG1pblwiLFxuICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5QQVNTV09SRFxufSk7XG5cbmNvbi5jb25uZWN0KGZ1bmN0aW9uKGVycikge1xuICAgIGlmIChlcnIpIHRocm93IGVycjtcblxuICAgIGNvbi5xdWVyeSgnQ1JFQVRFIERBVEFCQVNFIElGIE5PVCBFWElTVFMgbWFpbjsnKTtcbiAgICBjb24ucXVlcnkoJ1VTRSBtYWluOycpO1xuICAgIGNvbi5xdWVyeSgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgaW1hZ2VzKGlkIGludCBOT1QgTlVMTCBBVVRPX0lOQ1JFTUVOVCwga2V5SWQgdmFyY2hhcigzMCksIHVybCB2YXJjaGFyKDI1NSksIGZpbGVOYW1lIHZhcmNoYXIoMjU1KSwgZGVzY3JpcHRpb24gdmFyY2hhcigyNTUpLCBhcHByb3ZlIHZhcmNoYXIoMzApLCBQUklNQVJZIEtFWShpZCkpOycsIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQsIGZpZWxkcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICBjb25zb2xlLmxvZyhmaWVsZHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSk7XG4gICAgY29uLmVuZCgpO1xufSk7XG5cbmNvbi5jb25uZWN0KGZ1bmN0aW9uKGVycikge1xuICAgIGNvbi5xdWVyeShgU0VMRUNUICogRlJPTSBtYWluLmltYWdlcyBXSEVSRSBhcHByb3ZlPSd0cnVlJ2AsIGZ1bmN0aW9uKGVyciwgcmVzdWx0LCBmaWVsZHMpIHtcbiAgICAgICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHJlc3VsdFtpXVxuICAgICAgICAgICAgY29uc29sZS5sb2coYElOU0VSVCBJTlRPIGltYWdlcyBWQUxVRVMgKCR7ZW50cnkuaWR9LCAnJHtlbnRyeS5rZXlJZH0nLCAnJHtlbnRyeS51cmx9JywgJyR7ZW50cnkuZmlsZU5hbWV9JywgJyR7ZW50cnkuZGVzY3JpcHRpb259JywgJ3RydWUnKTtgKVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQpIGNvbnNvbGUubG9nKFwiQ3VycmVudCBzdGF0ZTogXCIgKyBKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcblxuLy8gQ3VycmVudCBzdGF0ZTogW3tcImlkXCI6MSxcImtleUlkXCI6XCJsZnd5MXRlZDMzdDM1Y254XCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vbGZ3eTF0ZWQzM3QzNWNueC5qcGVnXCIsXCJmaWxlTmFtZVwiOlwibGZ3eTF0ZWQzM3QzNWNueC5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6MixcImtleUlkXCI6XCJkdDBxMTI5cWN1bTM3c3hrXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vZHQwcTEyOXFjdW0zN3N4ay5qcGVnXCIsXCJmaWxlTmFtZVwiOlwiZHQwcTEyOXFjdW0zN3N4ay5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6MyxcImtleUlkXCI6XCJuaHg3eDByYzJvN3ZvODFrXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vbmh4N3gwcmMybzd2bzgxay5qcGVnXCIsXCJmaWxlTmFtZVwiOlwibmh4N3gwcmMybzd2bzgxay5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6NCxcImtleUlkXCI6XCJ4eTNsYndhaXh3ZnIyZTZxXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20veHkzbGJ3YWl4d2ZyMmU2cS5qcGVnXCIsXCJmaWxlTmFtZVwiOlwieHkzbGJ3YWl4d2ZyMmU2cS5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6NSxcImtleUlkXCI6XCJhYTZ3Zm9lenJuaHB3MHFxXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vYWE2d2ZvZXpybmhwdzBxcS5qcGVnXCIsXCJmaWxlTmFtZVwiOlwiYWE2d2ZvZXpybmhwdzBxcS5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6NixcImtleUlkXCI6XCJhbnh0eDQydWN5NHA1Z3lmXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vYW54dHg0MnVjeTRwNWd5Zi5qcGVnXCIsXCJmaWxlTmFtZVwiOlwiYW54dHg0MnVjeTRwNWd5Zi5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6NyxcImtleUlkXCI6XCIyeWpmOTRwZ3Bzd3huMGtyXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vMnlqZjk0cGdwc3d4bjBrci5qcGVnXCIsXCJmaWxlTmFtZVwiOlwiMnlqZjk0cGdwc3d4bjBrci5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9LHtcImlkXCI6OCxcImtleUlkXCI6XCIzbGg5eXBhZ3ZrbTJqNG1oXCIsXCJ1cmxcIjpcImh0dHBzOi8vdXd1YWFzY2F0LnMzLmFtYXpvbmF3cy5jb20vM2xoOXlwYWd2a20yajRtaC5qcGVnXCIsXCJmaWxlTmFtZVwiOlwiM2xoOXlwYWd2a20yajRtaC5qcGVnXCIsXCJkZXNjcmlwdGlvblwiOlwiYmFieSBseWluZyBkb3duXCJ9XVxuICAgIH0pO1xufSk7Il19